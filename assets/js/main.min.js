$(()=>{let e=$(".menu-header");for(let t=0;t<e.length;t++)e[t].addEventListener("click",openMenuLat,!1);let t=$(".data-button");for(let e=0;e<t.length;e++)t[e].addEventListener("click",activateButton,!1)});const openMenuLat=e=>{const t=e.target.dataset.menu,a=document.getElementsByClassName("menu-content"),o=document.getElementById("menu-content-"+t);for(let e=0;e<a.length;e++)a[e].classList.remove("opened");o.classList.toggle("opened")},activateButton=e=>{const t=e.target,a=e.target.dataset;let o=!0;t.classList.contains("bg-gray-500")&&(o=!1),t.classList.toggle("bg-gray-100"),t.classList.toggle("bg-gray-500"),t.classList.toggle("text-white"),loadData(a.targetLayer,o)},loadData=(e,t)=>{const a="/assets/data/fill/"+e+".geojson";t?fetch(a).then(e=>e.json()).then(t=>{if(map.getSource(e+"-data")||map.addSource(e+"-data",{type:"geojson",data:t}),map.getLayer(e+"-layer"))map.setLayoutProperty(e+"-layer","visibility","visible");else{let t=a.substr(13,4);map.addLayer({id:e+"-layer",type:t,source:e+"-data",paint:{"fill-color":{type:"categorical",property:"G_1999",stops:[["PRD-PT","#F00"],["PRI","#0f0"],["PAN-PVEM","#00f"]]},"fill-outline-color":"#fff","fill-opacity":.6}}),map.on("click",e+"-layer",function(e){var t='<h4 class="text-xl">'+e.features[0].properties.CABECERA_1+"</h4><p><strong>Gobernado por: </strong>"+e.features[0].properties.G_1999+"</p><p><strong>Coalici√≥n: </strong>"+e.features[0].properties.Coalicion+"</p><p><strong>Candidato: </strong>"+e.features[0].properties.Candidato+"</p>";(new mapboxgl.Popup).setLngLat(e.lngLat).setHTML(t).addTo(map)}),map.on("mouseenter","ganadores-layer",function(){map.getCanvas().style.cursor="pointer"}),map.on("mouseleave","ganadores-layer",function(){map.getCanvas().style.cursor=""})}}):map.setLayoutProperty(e+"-layer","visibility","none")};mapboxgl.accessToken="pk.eyJ1IjoibGVjcnV6MDEiLCJhIjoiY2pyY2t1aXJiMWV3bTQ0bndiZHFtZnd3dCJ9.T_AWHGpxthQg8DRhzuKTGg";var bounds=[[-74.04728500751165,40.68392799015035],[-73.91058699000139,40.87764500765852]],map=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/streets-v10",center:[-99.701254,19.294099],zoom:7.5});map.on("load",()=>{map.addControl(new MapboxGeocoder({accessToken:mapboxgl.accessToken,mapboxgl:mapboxgl,language:"es-MX",placeholder:"Buscar",countries:"mx"})),map.addControl(new mapboxgl.NavigationControl)});