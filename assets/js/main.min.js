$(()=>{let t=$(".menu-header");for(let e=0;e<t.length;e++)t[e].addEventListener("click",openMenuLat,!1);let e=$(".data-button");for(let t=0;t<e.length;t++)e[t].addEventListener("click",activateButton,!1)});const openMenuLat=t=>{const e=t.target.dataset.menu,a=document.getElementsByClassName("menu-content"),o=document.getElementById("menu-content-"+e);for(let t=0;t<a.length;t++)a[t].classList.remove("opened");o.classList.toggle("opened")},activateButton=t=>{const e=t.target,a=t.target.dataset;let o=!0;e.classList.contains("bg-gray-500")&&(o=!1),e.classList.toggle("bg-gray-100"),e.classList.toggle("bg-gray-500"),e.classList.toggle("text-white"),loadData(a.targetLayer,o)},loadData=(t,e)=>{const a="/assets/data/fill/"+t+".geojson";console.log(a),e?fetch(a).then(t=>t.json()).then(e=>{if(map.getSource(t+"-data")||map.addSource(t+"-data",{type:"geojson",data:e}),map.getLayer(t+"-layer"))map.setLayoutProperty(t+"-layer","visibility","visible");else{let e=a.substr(13,4);map.addLayer({id:t+"-layer",type:e,source:t+"-data",paint:{"fill-color":{property:"bgColor",type:"identity"},"fill-outline-color":"#fff","fill-opacity":.9}}),map.on("click",t+"-layer",function(t){var e="<p><strong>Entidad: </strong>"+t.features[0].properties.Entidad+"</p><p><strong>Distrito Local: </strong>"+t.features[0].properties.Distrito_L+"</p><p><strong>Municipio: </strong>"+t.features[0].properties.Municipio+"</p><p><strong>Partido Ganador: </strong>"+t.features[0].properties.G_1999+"</p><p><strong>Candidato: </strong>"+t.features[0].properties.Candidato+"</p>";(new mapboxgl.Popup).setLngLat(t.lngLat).setHTML(e).addTo(map)}),map.on("mouseenter","ganadores-layer",function(){map.getCanvas().style.cursor="pointer"}),map.on("mouseleave","ganadores-layer",function(){map.getCanvas().style.cursor=""})}}):map.setLayoutProperty(t+"-layer","visibility","none")};mapboxgl.accessToken="pk.eyJ1IjoibGVjcnV6MDEiLCJhIjoiY2pyY2t1aXJiMWV3bTQ0bndiZHFtZnd3dCJ9.T_AWHGpxthQg8DRhzuKTGg";var bounds=[[-74.04728500751165,40.68392799015035],[-73.91058699000139,40.87764500765852]],map=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/streets-v10",center:[-99.701254,19.294099],zoom:7.5});map.on("load",()=>{map.addControl(new MapboxGeocoder({accessToken:mapboxgl.accessToken,mapboxgl:mapboxgl,language:"es-MX",placeholder:"Buscar",countries:"mx"})),map.addControl(new mapboxgl.NavigationControl)});